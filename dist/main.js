'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _postcss = require('postcss');

var _postcss2 = _interopRequireDefault(_postcss);

var _options = require('./lib/options');

var _container = require('./lib/container');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

process.on('unhandledRejection', console.error);

const plugin = _postcss2.default.plugin('postcss-split-value', options => {
	options = (0, _options.processOptions)(options);

	return async function (CSS, RESULT) {
		// setup containers for new files
		const containers = options.files.map(_container.createContainer);
		const updateContainers = (0, _container.createUpdaterFn)(containers);

		// get all the rules to be moved
		CSS.walkRules(updateContainers);
	};
});

exports.default = plugin;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9tYWluLmpzIl0sIm5hbWVzIjpbInByb2Nlc3MiLCJvbiIsImNvbnNvbGUiLCJlcnJvciIsInBsdWdpbiIsIm9wdGlvbnMiLCJDU1MiLCJSRVNVTFQiLCJjb250YWluZXJzIiwiZmlsZXMiLCJtYXAiLCJ1cGRhdGVDb250YWluZXJzIiwid2Fsa1J1bGVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQTs7OztBQUNBOztBQUNBOzs7O0FBRUFBLFFBQVFDLEVBQVIsQ0FBVyxvQkFBWCxFQUFpQ0MsUUFBUUMsS0FBekM7O0FBRUEsTUFBTUMsU0FBUyxrQkFBUUEsTUFBUixDQUFlLHFCQUFmLEVBQXNDQyxXQUFXO0FBQy9EQSxXQUFVLDZCQUFlQSxPQUFmLENBQVY7O0FBRUEsUUFBTyxnQkFBZ0JDLEdBQWhCLEVBQXFCQyxNQUFyQixFQUE4QjtBQUNwQztBQUNBLFFBQU1DLGFBQWFILFFBQVFJLEtBQVIsQ0FBY0MsR0FBZCw0QkFBbkI7QUFDQSxRQUFNQyxtQkFBbUIsZ0NBQWdCSCxVQUFoQixDQUF6Qjs7QUFFQTtBQUNBRixNQUFJTSxTQUFKLENBQWNELGdCQUFkO0FBQ0EsRUFQRDtBQVFBLENBWGMsQ0FBZjs7a0JBYWVQLE0iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnYmFiZWwtcG9seWZpbGwnO1xuaW1wb3J0IHBvc3Rjc3MgZnJvbSAncG9zdGNzcyc7XG5pbXBvcnQgeyBwcm9jZXNzT3B0aW9ucyB9IGZyb20gJy4vbGliL29wdGlvbnMnO1xuaW1wb3J0IHsgY3JlYXRlQ29udGFpbmVyLCBjcmVhdGVVcGRhdGVyRm4gfSBmcm9tICcuL2xpYi9jb250YWluZXInO1xuXG5wcm9jZXNzLm9uKCd1bmhhbmRsZWRSZWplY3Rpb24nLCBjb25zb2xlLmVycm9yKTtcblxuY29uc3QgcGx1Z2luID0gcG9zdGNzcy5wbHVnaW4oJ3Bvc3Rjc3Mtc3BsaXQtdmFsdWUnLCBvcHRpb25zID0+IHtcblx0b3B0aW9ucyA9IHByb2Nlc3NPcHRpb25zKG9wdGlvbnMpO1xuXG5cdHJldHVybiBhc3luYyBmdW5jdGlvbiggQ1NTLCBSRVNVTFQgKSB7XG5cdFx0Ly8gc2V0dXAgY29udGFpbmVycyBmb3IgbmV3IGZpbGVzXG5cdFx0Y29uc3QgY29udGFpbmVycyA9IG9wdGlvbnMuZmlsZXMubWFwKGNyZWF0ZUNvbnRhaW5lcik7XG5cdFx0Y29uc3QgdXBkYXRlQ29udGFpbmVycyA9IGNyZWF0ZVVwZGF0ZXJGbihjb250YWluZXJzKTtcblxuXHRcdC8vIGdldCBhbGwgdGhlIHJ1bGVzIHRvIGJlIG1vdmVkXG5cdFx0Q1NTLndhbGtSdWxlcyh1cGRhdGVDb250YWluZXJzKTtcblx0fVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHBsdWdpbjsiXX0=